<!DOCTYPE html>
<html lang="en-us">
    <head>
    <meta http-equiv="content-type" content="text/html; charset=utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="generator" content="Hugo 0.15" />
    <title>Allan&#39;s blog</title>
    
    
    
    <meta name="description" content="" />
    <meta name="keywords" content='linux,architect,python,rust,php,rest' />
    
    
    <link href="http://allan-simon.github.io/blog/index.xml" rel="alternate" type="application/rss+xml" title="Allan&#39;s blog" />
    <link rel="stylesheet" href="http://allan-simon.github.io/blog//css/bootstrap.min.css" />
    <link rel="stylesheet" href="http://allan-simon.github.io/blog//css/highlightjs-themes/androidstudio.css" />
    <link rel="stylesheet" href="http://allan-simon.github.io/blog//css/font-awesome.min.css" />
    <link rel="stylesheet" href="http://allan-simon.github.io/blog//css/phlat.css" />
</head>

    <body>
        <nav class="navbar navbar-default navbar-fixed-top">
    <div class="container">
        <div class="navbar-header">
            <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false" aria-controls="navbar">
                <span class="sr-only">Toggle navigation</span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
            </button>
            <a class="navbar-brand" href="/">Allan&#39;s blog</a>
        </div>
        <div id="navbar" class="navbar-collapse collapse">
            <ul class="nav navbar-nav navbar-right">
                
            </ul>
        </div>
    </div>
</nav>

        <div id="top" class="container">
            <div class="row" id="content-main">
                <div class="col-md-8">
                    
                    
                        <div class="row">
                            <div class="col-md-12 content-card">
                                <h1><a href="http://allan-simon.github.io/blog/posts/gitlab-ci-with-docker-runner/">gitlab ci with docker runner</a></h1>
                                <ul class="list-inline">
                                    <li><i class="fa fa-calendar"></i>March 29, 2015</li>
                                    <li><i class="fa fa-user"></i></li>
                                </ul>
                                In my company we&rsquo;re using Gitlab for managing our code and doing code review. For the last months we&rsquo;ve been standardizing our stack on Symfony/Postgresql/php-fpm. Recently we&rsquo;ve started automatizing our tests using phpunit. The next step was of course to have a start of continuous integration and to be able to run our tests at each Merge request. In this article we&rsquo;re going to view How to install gitlab-ci on a separate server than your gitlab instance How to put gitlab-ci behind your company frontal server How to make gitlab-ci run your tests in a Docker container Gitlab-CI in a separate instance To do continous-integration you got plenty of choice, the most popular one being jenkinks.
                                <a class="btn btn-custom" href="http://allan-simon.github.io/blog/posts/gitlab-ci-with-docker-runner/" role="button">Read More</a>
                            </div>
                        </div>
                    
                        <div class="row">
                            <div class="col-md-12 content-card">
                                <h1><a href="http://allan-simon.github.io/blog/posts/symfony-create-your-own-third-party-bundle/">symfony create your own third party bundle part 1/4</a></h1>
                                <ul class="list-inline">
                                    <li><i class="fa fa-calendar"></i>March 28, 2015</li>
                                    <li><i class="fa fa-user"></i></li>
                                </ul>
                                So you&rsquo;ve reached the point where you&rsquo;re reusing the same service accross symfony application, again and again and you feel like this could even be useful for other people. You decide that it will be great if you could do like adults and have your own bundle. Here is how to create one from scratch, you can find the repo here Oauth2AccessBundle we cover these steps: Creating the base repo in github and composer.json Adding the base Classes Permit users of your bundle to configure it Make your bundle testable Create the base repo and composer.json Well for creating the base repo, nothing different from any new repo on github.
                                <a class="btn btn-custom" href="http://allan-simon.github.io/blog/posts/symfony-create-your-own-third-party-bundle/" role="button">Read More</a>
                            </div>
                        </div>
                    
                        <div class="row">
                            <div class="col-md-12 content-card">
                                <h1><a href="http://allan-simon.github.io/blog/posts/migrate-down-with-doctrine-migrations/">migrate down with doctrine migrations</a></h1>
                                <ul class="list-inline">
                                    <li><i class="fa fa-calendar"></i>March 14, 2015</li>
                                    <li><i class="fa fa-user"></i></li>
                                </ul>
                                if you&rsquo;re using Doctrine in your Symfony2 project, you&rsquo;re certainly using the excellent Doctrine Migration Bundle but you may have seen that documentation is not staging clearly how to migrate down for that: php app/console doctrine:migrations:status take the number in &ldquo;Current Version&rdquo; (format YYYYMMDDHHMMSS) and then run php app/console doctrine:migrations:execute YYYYMMDDHHMMSS --down that&rsquo;s all folks !
                                <a class="btn btn-custom" href="http://allan-simon.github.io/blog/posts/migrate-down-with-doctrine-migrations/" role="button">Read More</a>
                            </div>
                        </div>
                    
                        <div class="row">
                            <div class="col-md-12 content-card">
                                <h1><a href="http://allan-simon.github.io/blog/posts/symfony-2.6-tips-1/">symfony 2.6 tips #1</a></h1>
                                <ul class="list-inline">
                                    <li><i class="fa fa-calendar"></i>March 11, 2015</li>
                                    <li><i class="fa fa-user"></i></li>
                                </ul>
                                Here a list of tips for symfony 2.6 I&rsquo;ve gathered these days ###Skip test in phpunit Imagine you&rsquo;re rewriting your application to split &lsquo;big&rsquo; pages into set of smaller actions. You got your test already written but they are going to fail the time you finish the rewrite, and because you&rsquo;re in company with tight deadline, you don&rsquo;t have time to adapt the tests &ldquo;right here right now&rdquo; several possibilities Leave the tests failing until you fix them master.
                                <a class="btn btn-custom" href="http://allan-simon.github.io/blog/posts/symfony-2.6-tips-1/" role="button">Read More</a>
                            </div>
                        </div>
                    
                        <div class="row">
                            <div class="col-md-12 content-card">
                                <h1><a href="http://allan-simon.github.io/blog/posts/redmine-cli/">Redmine-cli and redmine API</a></h1>
                                <ul class="list-inline">
                                    <li><i class="fa fa-calendar"></i>February 25, 2015</li>
                                    <li><i class="fa fa-user"></i></li>
                                </ul>
                                I found a tool to manage redmine from the cli, in python: pip install redmine-cli then a config file ~/.redmine-cli [default] key=API_KEY_YOU_CAN_SEE_IN_YOUR_ACCOUNT_ON_REDMINE my_id=ID_YOU_CAN_ON_YOUR_PROFILE_PAGE root_url=HOME_PAGE_OF_REDMINE then you can do redmine open 123 to open the issue 123 in your browser redmine issues to see your issues redmine issue 123 to see information about issue 123 (it has more options I let you check the doc) original repo my fork where I have some features (like updating a ticket (hopefully my modification are in PR on the original repo and will be soon integrated) my modification include so far: redmine issue 123 long to see more detailled information about the issue redmine update 123 'in progress' to update the status to in progress (admitting your redmine has this status) The long story behind: As any good Linux user, I love the CLI (no, there&rsquo;s no such thing as a good Linux user who does not love the CLI).
                                <a class="btn btn-custom" href="http://allan-simon.github.io/blog/posts/redmine-cli/" role="button">Read More</a>
                            </div>
                        </div>
                    
                        <div class="row">
                            <div class="col-md-12 content-card">
                                <h1><a href="http://allan-simon.github.io/blog/posts/form-name-goes-into-global-scope-javascript/">Form name goes into global scope in javascript</a></h1>
                                <ul class="list-inline">
                                    <li><i class="fa fa-calendar"></i>February 23, 2015</li>
                                    <li><i class="fa fa-user"></i></li>
                                </ul>
                                An interesting problem a friend of mine discovered today Can you spot the problem? Le javascript var CreateVersion = (function(){ 'use strict'; var foo = function(text) { console.log(text); }; return { foo : foo }; }()); Le HTML &lt;form name=&quot;CreateVersion&quot; method=&quot;post&quot; action=&quot;&quot;&gt; &lt;div class=&quot;form-group&quot;&gt; &lt;label&gt; &lt;span&gt;something&lt;/span&gt; &lt;!-- onClick on a span is a bad pratice and will be the object of an other post --&gt; &lt;span onclick=&quot;CreateVersion.foo('plop')&quot;&gt;plop/span&gt; &lt;span onclick=&quot;CreateVersion.foo('prout')&quot;&gt;prout&lt;/span&gt; &lt;/label&gt; &lt;input id=&quot;CreateVersion_name&quot; name=&quot;CreateVersion[name]&quot; class=&quot;form-control version_name&quot; type=&quot;text&quot; /&gt; &lt;/div&gt; &lt;div class=&quot;form-group&quot;&gt; &lt;label&gt; &lt;span&gt;something something&lt;/span&gt;: &lt;span class=&quot;text_length&quot;&gt;0&lt;/span&gt; &lt;/label&gt; &lt;input id=&quot;CreateVersion_articleNotes&quot; name=&quot;CreateVersion[articleNotes]&quot; class=&quot;form-control&quot; type=&quot;text&quot; /&gt; &lt;/div&gt; &lt;hr/&gt; &lt;div&gt; &lt;button type=&quot;submit&quot; id=&quot;CreateVersion_submit&quot; name=&quot;CreateVersion[submit]&quot; &gt; submit &lt;/button&gt; &lt;/div&gt; &lt;/form&gt; Le erreur TypeError: CreateVersion.foo is not a function No, not in IE6, in last version of Firefox/Chrome Le solution This line &lt;form name=&quot;CreateVersion&quot; method=&quot;post&quot; action=&quot;&quot;&gt; declare a Form with a name CreateVersion which is exactly the same name as our Javascript module, and guess what ?
                                <a class="btn btn-custom" href="http://allan-simon.github.io/blog/posts/form-name-goes-into-global-scope-javascript/" role="button">Read More</a>
                            </div>
                        </div>
                    
                        <div class="row">
                            <div class="col-md-12 content-card">
                                <h1><a href="http://allan-simon.github.io/blog/posts/workflow-publishing-blog-post-with-hugo/">Workflow publishing blog post with hugo</a></h1>
                                <ul class="list-inline">
                                    <li><i class="fa fa-calendar"></i>February 20, 2015</li>
                                    <li><i class="fa fa-user"></i></li>
                                </ul>
                                I&rsquo;ve added some functions in my shell to make it even more convenient to write/edit/publish articles with hugo (just a self reminder) so that now I have new_blog_post name-of-your-blog-post publish_blog edit_last_blog_post that can be run from anywhere in my terminal export BLOG_ROOT=~/git/perso/blog export BLOG_THEME=hyde export GITHUB=git@github.com:allan-simon/blog.git function new_blog_post { cd $BLOG_ROOT LAST_BLOG_POST=$(hugo new posts/$1.md | cut -d &quot; &quot; -f 1) ; export LAST_BLOG_POST ; $EDITOR $LAST_BLOG_POST cd - }
                                <a class="btn btn-custom" href="http://allan-simon.github.io/blog/posts/workflow-publishing-blog-post-with-hugo/" role="button">Read More</a>
                            </div>
                        </div>
                    
                        <div class="row">
                            <div class="col-md-12 content-card">
                                <h1><a href="http://allan-simon.github.io/blog/posts/functionnal-tests-symfony2-and-authentication/">Functionnal tests in symfony2 with authentication</a></h1>
                                <ul class="list-inline">
                                    <li><i class="fa fa-calendar"></i>February 20, 2015</li>
                                    <li><i class="fa fa-user"></i></li>
                                </ul>
                                Let&rsquo;s say you have your symfony2 website, all setup correctly with its set of functionnal tests using phpunit, and now you start to have pages that only authenticated users can access to. My first solution was to create a client, make it load the login form, submit some valid credentials and then load the actual page to test. It was working fine as the client has a storage for cookie, it is acting like an actual browser in that case.
                                <a class="btn btn-custom" href="http://allan-simon.github.io/blog/posts/functionnal-tests-symfony2-and-authentication/" role="button">Read More</a>
                            </div>
                        </div>
                    
                        <div class="row">
                            <div class="col-md-12 content-card">
                                <h1><a href="http://allan-simon.github.io/blog/posts/solve-composer-github-api-limitation/">Solve composer github api limitation</a></h1>
                                <ul class="list-inline">
                                    <li><i class="fa fa-calendar"></i>February 10, 2015</li>
                                    <li><i class="fa fa-user"></i></li>
                                </ul>
                                Could not fetch X enter your GitHub credentials to go over the API rate limit The problem is that composer is retrieving nearly all the packages from github using the anonymous access github API. In order to solve it you need to generate a token you need a github account (or ask a friend) go on your setting page here click on Generate new token now two possibilities 1 - Put this token in one specific project for this simply run composer config -g github-oauth.github.com YOUR_TOKEN or php composer.phar config -g github-oauth.github.com YOUR_TOKEN (depending on how you installed composer) it will add that to your project&rsquo;s composer.json file 2 - Put this token in your global composer configuration If your project is an open-source or company project you may not want to commit your token on the git of your project/company for this edit the file ~/.composer/config.json and put in it: { &quot;config&quot;: { &quot;github-oauth&quot;: { &quot;github.com&quot;: &quot;YOUR_TOKEN&quot; } } } that&rsquo;s all folks!
                                <a class="btn btn-custom" href="http://allan-simon.github.io/blog/posts/solve-composer-github-api-limitation/" role="button">Read More</a>
                            </div>
                        </div>
                    
                        <div class="row">
                            <div class="col-md-12 content-card">
                                <h1><a href="http://allan-simon.github.io/blog/posts/install-docker-on-ubuntu-12.04/">Install docker on ubuntu 12.04</a></h1>
                                <ul class="list-inline">
                                    <li><i class="fa fa-calendar"></i>February 10, 2015</li>
                                    <li><i class="fa fa-user"></i></li>
                                </ul>
                                This article is a shameless summary from http://compositecode.com the steps are: Updating your kernel to 3.8+ (requires a reboot) Add the docker repository Installing the package sudo apt-get install linux-image-generic-lts-raring linux-headers-generic-lts-raring sudo reboot sudo sh -c &quot;wget -qO- https://get.docker.io/gpg | apt-key add -&quot; sudo sh -c &quot;echo deb http://get.docker.io/ubuntu docker main &gt; /etc/apt/sources.list.d/docker.list&quot; sudo apt-get update sudo apt-get install lxc-docker And now you should be able to get docker working
                                <a class="btn btn-custom" href="http://allan-simon.github.io/blog/posts/install-docker-on-ubuntu-12.04/" role="button">Read More</a>
                            </div>
                        </div>
                    
                    
    <div class="row">
        <div class="col-md-12">
            <div class="row">
                <div class="col-md-4" style="text-align: left; padding-left: 0px">
                    
                        <a class="btn btn-default" href="/" role="button" style="border-radius: 0px; display: block">Newer</a>
                    
                </div>
                <div class="col-md-4 col-md-offset-4" style="text-align: right; padding-right: 0px">
                    
                        <a class="btn btn-default" href="/page/3/" role="button" style="border-radius: 0px; display: block">Older</a>
                    
                </div>
            </div>
        </div>
    </div>


                </div>
                <div class="col-md-4">
                    <div class="row">
    <div class="col-md-11 col-md-offset-1 card">
        <h5>Search</h5>
        <form action="//google.com/search" method="get" accept-charset="UTF-8" class="search-form">
            <div class="input-group">
                <input class="form-control" type="search" name="q" />
                <span class="input-group-btn">
                    <button class="btn btn-custom" type="submit"><span class="glyphicon glyphicon-search"></span></button>
                </span>
            </div>
            <input type="hidden" name="q" value="site:http://allan-simon.github.io/blog/">
        </form>
    </div>
</div>

                    <div class="row">
    <div class="col-md-11 col-md-offset-1 card">
        <h5>Recent Posts</h5>
        <ul class="list-unstyled posts-recent">
            
        </ul>
    </div>
</div>

                    
    
        <div class="row">
            <div class="col-md-11 col-md-offset-1 card">
                <h5>categories</h5>
                <ul class="list-unstyled posts-recent">
                    
                </ul>
            </div>
        </div>
    

    


                </div>
            </div>
        </div>
        <footer class="footer">
    <div class="container">
        <div class="row">
            <div class="col-md-8 col-xs-6">
    <ul class="list-inline links">
        
    </ul>
</div>

            <div class="col-md-4 col-xs-6">
    <ul class="list-inline social-media">
        
        
        
        
        
        
        
        
        
        
    </ul>
</div>

        </div>
        <div class="row">
            <div class="col-md-12">
                <p>
                    <a href="https://github.com/nraboy/hugo-phlat-theme">Phlat Theme</a> designed and built by <a href="http://www.nraboy.com">Nic Raboy</a> in San Francisco, California.
                </p>
            </div>
        </div>
    </div>
</footer>

        <div id="back-to-top" class="hidden">
    <a href="#top" class="well well-sm" onclick="$('html,body').animate({scrollTop:0},'slow');return false;">
        <i class="glyphicon glyphicon-chevron-up"></i> Back to Top
    </a>
</div>
<script src="http://allan-simon.github.io/blog//js/jquery-2.2.1.min.js"></script>
<script src="http://allan-simon.github.io/blog//js/bootstrap.min.js"></script>
<script src="http://allan-simon.github.io/blog//js/highlight.min.js"></script>
<script>hljs.initHighlightingOnLoad();</script>
<script>
    if(($(window).height() + 100) < $(document).height()) {
        $('#back-to-top').removeClass('hidden').affix({
            offset: {
                top: 100
            }
        });
    }
</script>

    



    </body>
</html>
